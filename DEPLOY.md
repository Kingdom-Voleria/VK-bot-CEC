# Деплой VK бота на Render

## Подготовка к деплою

### 1. Получение токена VK
1. Перейдите в [VK API](https://vk.com/dev)
2. Создайте приложение типа "Сообщество"
3. Получите токен группы с правами на сообщения

### 2. Настройка Render

#### Шаг 1: Создание аккаунта
1. Зарегистрируйтесь на [render.com](https://render.com)
2. Подключите ваш GitHub/GitLab/Bitbucket аккаунт

#### Шаг 2: Создание сервиса
1. Нажмите "New +" в панели управления
2. Выберите "Background Worker"
3. Подключите ваш репозиторий

#### Шаг 3: Настройка переменных окружения
В настройках сервиса добавьте:
- **Key**: `VK_GROUP_TOKEN`
- **Value**: Ваш токен VK группы

#### Шаг 4: Настройка деплоя
Render автоматически использует настройки из `render.yaml`:
- **Build Command**: `pip install -r requirements.txt`
- **Start Command**: `python main.py`
- **Plan**: Free

### 3. Проверка деплоя

После деплоя проверьте:
1. Логи в панели Render
2. Статус сервиса (должен быть "Live")
3. Работу бота в VK

### 4. Мониторинг

- Логи доступны в панели Render
- Сервис автоматически перезапускается при ошибках
- Бесплатный план имеет ограничения на время работы

## Структура файлов

```
├── main.py                 # Основной код бота
├── requirements.txt        # Зависимости Python
├── render.yaml            # Конфигурация Render
├── Dockerfile             # Docker конфигурация
├── citizenship_responses.json  # Ответы по гражданству
├── site_responses.json    # Ответы по сайту
├── known_users.txt        # Известные пользователи
└── health_check.py        # Проверка здоровья сервиса
```

## Устранение неполадок

### Проблема: Бот не отвечает
1. Проверьте токен VK в переменных окружения
2. Убедитесь, что бот добавлен в группу
3. Проверьте логи в Render

### Проблема: Ошибки при деплое
1. Проверьте синтаксис Python кода
2. Убедитесь, что все файлы присутствуют
3. Проверьте зависимости в requirements.txt

### Проблема: Сервис не запускается
1. Проверьте переменные окружения
2. Убедитесь, что файлы JSON корректны
3. Проверьте права доступа к файлам 