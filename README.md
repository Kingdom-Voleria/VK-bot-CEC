# VK Бот Королевства Волерия

Официальный VK бот для обработки обращений граждан Королевства Волерия по вопросам гражданства и работы сайта.

## Функции

- Обработка вопросов о гражданстве
- Поддержка по работе с сайтом
- Прием жалоб и предложений
- Автоматическая маршрутизация обращений администрации

## Деплой на Render

**⚠️ ВАЖНО**: VK бот работает как фоновый процесс, поэтому нужно создавать **Background Worker**, а не Web Service!

### Способ 1: Через GitHub (Рекомендуется)

1. Загрузите код в GitHub репозиторий
2. Зайдите на [render.com](https://render.com)
3. Создайте новый **Background Worker** (не Web Service!)
4. Подключите ваш GitHub репозиторий
5. Настройте следующие параметры:
   - **Environment**: Python
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `python main.py`

### Способ 2: Через render.yaml

1. Убедитесь, что файл `render.yaml` присутствует в репозитории
2. Создайте новый **Background Worker** на Render
3. Выберите "Deploy from render.yaml"
4. Подключите ваш репозиторий

### Настройка переменных окружения

В настройках сервиса на Render добавьте:

- **VK_GROUP_TOKEN** - токен вашей VK группы

### Структура файлов

```
├── main.py                    # Основной файл бота
├── requirements.txt           # Зависимости Python
├── citizenship_responses.json # Ответы по гражданству
├── site_responses.json       # Ответы по сайту
├── known_users.txt           # Известные пользователи
├── render.yaml              # Конфигурация Render
├── Dockerfile               # Docker конфигурация
└── README.md               # Этот файл
```

## Локальная разработка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте файл `.env` с токеном:
```
VK_GROUP_TOKEN=ваш_токен_здесь
```

3. Запустите бота:
```bash
python main.py
```

## Мониторинг

Бот автоматически логирует все действия в stdout, что позволяет отслеживать его работу через панель управления Render.

## Безопасность

- Токен VK хранится в переменных окружения
- Все пользовательские данные сохраняются локально
- Обращения администрации отправляются через защищенный API 